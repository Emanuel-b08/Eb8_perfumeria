<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eb8 Perfumer√≠a</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
  <!-- Barra superior -->
  <h2 id="bienvenida"></h2>
  <button id="logoutBtn">Cerrar sesi√≥n</button>

  <!-- Encabezado principal -->
  <header>
    <div class="logo">
      <img src="imagenes/logo.jpg" alt="Logo Eb8 Perfumer√≠a" />
      <h1>Eb8 Perfumer√≠a</h1>
    </div>

    <nav>
      <ul>
        <li><a href="#hombres">Hombres</a></li>
        <li><a href="#mujeres">Mujeres</a></li>
        <li><a href="#arabes">Perfumes √Årabes</a></li>
        <li><a href="#unisex">Unisex</a></li>
        <li><a href="#nicho">Perfumes de Nicho</a></li>
        <li><a href="#ofertas">Ofertas üî•</a></li>
      </ul>
    </nav>
  </header>

  <!-- √çcono del carrito -->
  <button class="boton-carrito" onclick="abrirCarrito()">
    üõí Ver Carrito <span id="carrito-count-btn">0</span>
  </button>

  <!-- Banner principal -->
  <section class="banner">
    <img src="imagenes/baner.jpg" alt="Promoci√≥n Perfumer√≠a" />
    <div class="banner-texto">
      <h2>¬°EL REGALO PERFECTO S√ç EXISTE!</h2>
      <p>Perfumes que enamoran con hasta 31% OFF por tiempo limitado.</p>
      <a href="#ofertas" class="btn">Conoce las ofertas aqu√≠</a>
    </div>
  </section>

  <!-- ===================== PRODUCTOS ===================== -->

  <!-- HOMBRES -->
  <section class="productos" id="hombres">
    <h2>Perfumes para Hombres</h2>
    <div class="grid-productos">
      <div class="producto">
        <img src="imagenes/clubnuit.jpg" alt="Club de Nuit Intense" />
        <h3>Club de Nuit Intense</h3>
        <p>$230.000</p>
        <button onclick="agregarAlCarrito(1, 'Club de Nuit Intense', 230000, 'imagenes/clubnuit.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/dior.jpg" alt="Dior Homme Intense" />
        <h3>Dior Homme Intense</h3>
        <p>$520.000</p>
        <button onclick="agregarAlCarrito(2, 'Dior Homme Intense', 520000, 'imagenes/dior.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/chanel.jpg" alt="Bleu de Chanel" />
        <h3>Bleu de Chanel</h3>
        <p>$580.000</p>
        <button onclick="agregarAlCarrito(3, 'Bleu de Chanel', 580000, 'imagenes/chanel.jpg')">
          Agregar al carrito
        </button>
      </div>
    </div>
  </section>

  <!-- MUJERES -->
  <section class="productos" id="mujeres">
    <h2>Perfumes para Mujeres</h2>
    <div class="grid-productos">
      <div class="producto">
        <img src="imagenes/yara.jpg" alt="Lataffa Yara" />
        <h3>Lataffa Yara</h3>
        <p>$350.000</p>
        <button onclick="agregarAlCarrito(4, 'Lataffa Yara', 350000, 'imagenes/yara.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/vida.jpg" alt="La Vie est Belle" />
        <h3>La Vie est Belle</h3>
        <p>$480.000</p>
        <button onclick="agregarAlCarrito(5, 'La Vie est Belle', 480000, 'imagenes/vida.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/jadore.jpg" alt="J'adore Dior" />
        <h3>J'adore Dior</h3>
        <p>$500.000</p>
        <button onclick="agregarAlCarrito(6, 'Jadore Dior', 500000, 'imagenes/jadore.jpg')">
          Agregar al carrito
        </button>
      </div>
    </div>
  </section>

  <!-- √ÅRABES -->
  <section class="productos" id="arabes">
    <h2>Perfumes √Årabes</h2>
    <div class="grid-productos">
      <div class="producto">
        <img src="imagenes/khamrah.jpg" alt="Lattafa Khamrah" />
        <h3>Lattafa Khamrah</h3>
        <p>$320.000</p>
        <button onclick="agregarAlCarrito(7, 'Lattafa Khamrah', 320000, 'imagenes/khamrah.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/negra.jpg" alt="Oud for Glory" />
        <h3>Oud for Glory</h3>
        <p>$350.000</p>
        <button onclick="agregarAlCarrito(8, 'Oud for Glory', 350000, 'imagenes/negra.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/supremacy.jpg" alt="Supremacy Not Only Intense" />
        <h3>Supremacy Not Only Intense</h3>
        <p>$360.000</p>
        <button onclick="agregarAlCarrito(9, 'Supremacy Not Only Intense', 360000, 'imagenes/supremacy.jpg')">
          Agregar al carrito
        </button>
      </div>
    </div>
  </section>

  <!-- UNISEX -->
  <section class="productos" id="unisex">
    <h2>Perfumes Unisex</h2>
    <div class="grid-productos">
      <div class="producto">
        <img src="imagenes/tomford.jpg" alt="Tom Ford Black Orchid" />
        <h3>Tom Ford Black Orchid</h3>
        <p>$600.000</p>
        <button onclick="agregarAlCarrito(10, 'Tom Ford Black Orchid', 600000, 'imagenes/tomford.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/ckone.jpg" alt="CK One" />
        <h3>CK One</h3>
        <p>$280.000</p>
        <button onclick="agregarAlCarrito(11, 'CK One', 280000, 'imagenes/ckone.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/aventus.jpg" alt="Creed Aventus" />
        <h3>Creed Aventus</h3>
        <p>$1.100.000</p>
        <button onclick="agregarAlCarrito(12, 'Creed Aventus', 1100000, 'imagenes/aventus.jpg')">
          Agregar al carrito
        </button>
      </div>
    </div>
  </section>

  <!-- NICHO -->
  <section class="productos" id="nicho">
    <h2>Perfumes de Nicho</h2>
    <div class="grid-productos">
      <div class="producto">
        <img src="imagenes/xerjoff.jpg" alt="Xerjoff Naxos" />
        <h3>Xerjoff Naxos</h3>
        <p>$1.200.000</p>
        <button onclick="agregarAlCarrito(13, 'Xerjoff Naxos', 1200000, 'imagenes/xerjoff.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/amouage.jpg" alt="Amouage Interlude Man" />
        <h3>Amouage Interlude Man</h3>
        <p>$1.350.000</p>
        <button onclick="agregarAlCarrito(14, 'Amouage Interlude Man', 1350000, 'imagenes/amouage.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/memo.jpg" alt="Memo Irish Leather" />
        <h3>Memo Irish Leather</h3>
        <p>$1.150.000</p>
        <button onclick="agregarAlCarrito(15, 'Memo Irish Leather', 1150000, 'imagenes/memo.jpg')">
          Agregar al carrito
        </button>
      </div>
    </div>
  </section>

  <!-- OFERTAS -->
  <section class="productos" id="ofertas">
    <h2>Ofertas üî•</h2>
    <div class="grid-productos">
      <div class="producto">
        <img src="imagenes/Mandarine.jpg" alt="Odyssey Mandarino" />
        <h3>Odyssey Mandarin Sky</h3>
        <p>$249.000</p>
        <button onclick="agregarAlCarrito(16, 'Odyssey Mandarino', 249000, 'imagenes/Mandarine.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/versaceeros.jpg" alt="Versace Eros" />
        <h3>Versace Eros</h3>
        <p>$320.000</p>
        <button onclick="agregarAlCarrito(17, 'Versace Eros', 320000, 'imagenes/versaceeros.jpg')">
          Agregar al carrito
        </button>
      </div>

      <div class="producto">
        <img src="imagenes/212vip.jpg" alt="212 VIP" />
        <h3>212 VIP</h3>
        <p>$280.000</p>
        <button onclick="agregarAlCarrito(18, '212 VIP', 280000, 'imagenes/212vip.jpg')">
          Agregar al carrito
        </button>
      </div>
    </div>
  </section>

  <!-- ===================== CONTACTO ===================== -->
  <section id="contactanos" class="contenido">
    <header>
      <h2>üî• Cont√°ctanos üî•</h2>
    </header>

    <main>
      <form id="formContactanos">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" required />

        <label for="correo">Correo:</label>
        <input type="email" id="correo" name="correo" required />

        <label for="mensaje">Mensaje:</label>
        <textarea id="mensaje" name="mensaje" rows="5" required></textarea>

        <button type="submit">Enviar</button>
      </form>

      <div id="resultado" class="alerta"></div>
    </main>
  </section>

  <!-- ===================== FOOTER ===================== -->
  <footer id="contacto">
    <div class="footer-info">
      <div>
        <h3>Cr√©dito Inmediato</h3>
        <p>Compra ahora y paga en c√≥modas cuotas.</p>
      </div>
      <div>
        <h3>100% Originales</h3>
        <p>Garant√≠a de autenticidad en todas nuestras fragancias.</p>
      </div>
      <div>
        <h3>Asesor√≠as Personalizadas</h3>
        <p>Encuentra la fragancia perfecta para ti.</p>
      </div>
    </div>
  </footer>

  <!-- Barra inferior -->
  <div class="nav-bottom">
    <a href="index.html">Inicio</a>
    <a href="empresa.html">Empresa</a>
    <a href="acerca.html">Acerca de</a>
    <a href="trabaja.html">Trabaja con nosotros</a>
    <a href="pqrs.html">PQRS</a>
  </div>

  <!-- ===================== SCRIPTS ===================== -->
  <script>
    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

    function guardarCarrito() {
      localStorage.setItem('carrito', JSON.stringify(carrito));
      const count = carrito.reduce((acc, p) => acc + p.cantidad, 0);
      document.getElementById('carrito-count-btn').textContent = count;
    }

    function agregarAlCarrito(id, nombre, valor, img) {
      const producto = { id, nombre, valor, img, cantidad: 1 };
      const existente = carrito.find(p => p.id === id);
      if (existente) {
        existente.cantidad += 1;
      } else {
        carrito.push(producto);
      }
      guardarCarrito();
      alert(`${nombre} se agreg√≥ al carrito üõí`);
    }

    function abrirCarrito() {
      window.location.href = 'carrito.html';
    }

    // Inicializar contador
    guardarCarrito();

    // FORMULARIO CONTACTANOS
    document.getElementById("formContactanos").addEventListener("submit", function (event) {
      event.preventDefault();

      const nombre = document.getElementById("nombre").value;
      const correo = document.getElementById("correo").value;
      const mensaje = document.getElementById("mensaje").value;

      axios.post("http://localhost:3000/api/contactanos", { nombre, correo, mensaje })
        .then(res => {
          mostrarAlerta("Formulario enviado con √©xito ‚úÖ");
          limpiarFormulario("formContactanos");
        })
        .catch(err => mostrarAlerta("‚ùå Error al enviar formulario", true));
    });

    function mostrarAlerta(mensaje, error = false) {
      const div = document.getElementById("resultado");
      div.textContent = mensaje;
      div.style.color = error ? "red" : "green";
      div.style.textAlign = "center";
      div.style.fontSize = "24px";
      div.style.marginTop = "20px";
      setTimeout(() => div.textContent = "", 3000);
    }

    function limpiarFormulario(id) {
      document.getElementById(id).reset();
    }
  </script>

  <script src="index.js"></script>
</body>

</html>
