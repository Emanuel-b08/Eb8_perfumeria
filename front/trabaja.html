<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabaja con Nosotros - EB8 Perfumería</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Trabaja con Nosotros</h1>
    </header>

    <main class="contenido">
        <section class="trabaja">
            <h2>Envía tu Información</h2>
            <!-- Ahora apunta al PHP -->
            <form id="Formtrabaja">
  <label for="nombre">Nombre completo:</label>
  <input type="text" id="nombre" name="nombre" required>

  <label for="correo">Correo electrónico:</label>
  <input type="email" id="correo" name="correo" required>

  <label for="telefono">Teléfono:</label>
  <input type="tel" id="telefono" name="telefono">

  <label for="mensaje">Mensaje:</label>
  <textarea id="mensaje" name="mensaje" rows="5" required></textarea>

  <button type="submit">Enviar</button>
</form>

<div id="resultado" class="alerta"></div>
 <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
document.getElementById("Formtrabaja").addEventListener("submit", function(event){
  event.preventDefault();
  const nombre = document.getElementById("nombre").value;
  const correo = document.getElementById("correo").value;
  const telefono = document.getElementById("telefono").value;
  const mensaje = document.getElementById("mensaje").value;

  axios.post("http://localhost:3000/api/trabaja", { nombre, correo, telefono, mensaje })
    .then(res => {
      mostrarAlerta("Formulario enviado con éxito ✅");
      limpiarFormulario("Formtrabaja");
    })
    .catch(err => mostrarAlerta("❌ Error al enviar formulario", true));
});

function mostrarAlerta(mensaje, error=false){
  const div = document.getElementById("resultado");
  div.textContent = mensaje;
  div.style.color = error ? "red" : "green";
  div.style.textAlign = "center";
  div.style.fontSize = "24px";
  div.style.marginTop = "20px";
  setTimeout(() => { div.textContent = ""; }, 3000);
}

function limpiarFormulario(id){
  document.getElementById(id).reset();
}
</script>
</body>
</html>
